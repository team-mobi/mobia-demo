# FSD(features-sliced design)

> FSDëŠ” ëŠìŠ¨í•œ ê²°í•©ê³¼ ë†’ì€ ì‘ì§‘ì„ í†µí•´ `coupling`ì„ ìµœì†Œí•˜ê³ í•˜ê³  ì‰½ê²Œ í™•ì¥í•  ìˆ˜ ìˆëŠ” í”„ë¡œê·¸ë¨ì„ ë§Œë“œëŠ” ê²ƒì„ ê¸°ì´ˆë¡œ í•©ë‹ˆë‹¤. í•´ë‹¹ í”„ë¡œì íŠ¸ì—ì„œëŠ” FSDë¥¼ ì•„ë˜ì™€ ê°™ì´ ì •ì˜í•©ë‹ˆë‹¤.

## Layer

FSDì—ì„œ ìµœìƒìœ„ì˜ í´ë”ë¥¼ Layerë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. í•´ë‹¹ í”„ë¡œì íŠ¸ì—ì„œì˜ ë ˆì´ì–´ëŠ” ì•„ë˜ì™€ ê°™ì´ ì •ì˜í•˜ë©° ëŠìŠ¨í•œ ê²°í•©ì„ ìœ„í•˜ì—¬ ìš°ë¦¬ê°€ ê·œì •í•œ ì ˆëŒ€ì ì¸ layerì˜ ì—­í• ì„ ê¸°ì–µí•´ì•¼í•©ë‹ˆë‹¤. ë‹¨, í”„ë¡œì íŠ¸ì˜ ì•„í‚¤í…ì³ëŠ” êµ¬í˜„í•´ì•¼í•˜ëŠ” ì„œë¹„ìŠ¤ë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, íŒ€ì› ê°„ì˜ ë§¥ë½ ê³µìœ ì™€ ì†Œí†µì´ ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤.

`app`

> layout, providers, style, app, routesì™€ ê°™ì´ ì•±ì˜ ì§„ì…ì ìœ¼ë¡œ ìµœìƒìœ„ì˜ ì¡´ì¬í•´ì•¼í•˜ëŠ” íŒŒì¼ì„ ìœ„ì¹˜í•©ë‹ˆë‹¤. í•´ë‹¹ íŒŒì¼ì— ì¡´ì¬í•˜ëŠ” íŒŒì¼ì€ appì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼í•©ë‹ˆë‹¤.

<br/>
<br/>

`pages`

<br/>
<br/>

> not-found, main, postê³¼ ê°™ì€ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¡°ë¦½í•˜ëŠ” ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë“¤ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ë‹¨ ì´ë•Œ ì£¼ì†Œ ì´ë¦„ê³¼ í´ë” ëª…ì´ ê°™ì•„ì•¼í•¨ì„ ëª…ì‹¬í•´ì•¼í•˜ë©°, í•´ë‹¹ ë ˆì´ì–´ì—ì„œëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ì— í•„ìš”í•œ ê¸°ëŠ¥ì€ ìµœì†Œí™” ë˜ì–´ì•¼í•©ë‹ˆë‹¤.
> <br/> <br/>
> ex) "/post-list" -> /post-list/post-list.tsx

<br/>
<br/>

`widgets`

> widgetì€ ë…ë¦½ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” interface componentì…ë‹ˆë‹¤. ìì²´ë§Œìœ¼ë¡œ í•˜ë‚˜ì˜ ì—­í• ì„ ë¶€ì—¬ë°›ê¸° ë•Œë¬¸ì— ë¹„ì¦ˆë‹ˆìŠ¤ì— í•„ìš”í•œ ì„¤ê³„ê°€ ì •ì˜ë˜ëŠ” ê³³ì´ê¸°ë„ í•©ë‹ˆë‹¤.

```javascript
// before
const PostList = ({ type }) => {
  const { data } = useFetchPostList(type);
  // typeì— ë”°ë¼ í˜¸ì¶œí•˜ëŠ” postê°€ ë‹¤ë¥´ê²Œ ì„¤ê³„
};

// after
const PostList = () => {
  const { data } = useFetchPostList();
  // ... your interface
};

const PostPopularList = () => {
  const { data } = usePopularPostList();
  // ... your interface
};
```

> `before`ëŠ” ì™¸ë¶€ì—ì„œë¶€í„° typeì„ ì£¼ì…ë°›ì•„ typeì— ë”°ë¼ ë‹¤ë¥¸ PostListë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŠ” `popular-post`ì™€ - `all-post`ë¡œë¶€í„° ì»¤í”Œë§ì„ ë°œìƒì‹œí‚¤ê³  í›—ë‚  interfaceì˜ ê°œì„ ì´ í•„ìš”í•  ë•Œ í™•ì¥ì´ ì–´ë ¤ìš´ ë² ì´ìŠ¤ì˜ ì½”ë“œê°€ ìƒì‚°ë©ë‹ˆë‹¤. fsdëŠ” ëª…í™•í•œ `ì—­í• `ì— ë”°ë¼ ì‚¬ìš©ê°€ëŠ¥í•œ ë ˆì´ì–´ë¥¼ ìµœì†Œí™”í•˜ì—¬ ëŠìŠ¨í•œ ê²°í•©ì„ ë§Œë“œëŠ” ê²ƒì„ ëª©í‘œë¡œ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ `after`ê³¼ ê°™ì´ í•˜ë‚˜ì˜ ì—­í• ì„ ë¶€ì—¬ë°›ì€ ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©ë˜ëŠ” ë ˆì´ì–´ë¥¼ ëª…í™•í•˜ê²Œ í•¨ìœ¼ë¡œì„œ ê·¸ ì‚¬ì´ì— ìˆëŠ” ê´€ê³„ë¥¼ ëŠìŠ¨í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤

> `widgets`ì˜ ê°€ì¥ í° í•µì‹¬ì€ ë¬´ë¶„ë³„í•œ ì¬ì‚¬ìš©ë³´ë‹¤ ë¶€ì—¬ë°›ì€ ì—­í• ì´ ìˆëŠ” ë ˆì´ì–´ ë§Œë“¤ê¸° ì…ë‹ˆë‹¤.

<br/>
<br/>

`features`

> featuresëŠ” ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ì™€ ìƒí˜¸ì‘ìš© ê°€ëŠ¥í•œ ë ˆì´ì–´ì´ë©°, ìš°ë¦¬ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ì  ê°€ì¹˜ë¥¼ ê°€ì ¸ë‹¤ì£¼ëŠ” ë ˆì´ì–´ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ìš°ë¦¬ì—ê²Œ í•„ìš”í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ì„ ê¸°ì¤€ìœ¼ë¡œ í´ë”ê°€ ë¶„ë¦¬ë˜ì–´ì•¼í•˜ë©° interfaceë¥¼ ë¶„ë¦¬í•˜ëŠ” view layerë¡œ ëŠ” ì¡´ì¬í•´ì„œëŠ” ì•ˆë©ë‹ˆë‹¤.

```javascript
/* "src/features/post/write-post/ui/submit-button "*/
const WritePostSubmitButton = ({ ...props }) => {
  // propsëŠ” widget í˜¹ì€ pagesì—ì„œ ë‚´ë ¤ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  const { mutateAsync } = useWritePostsMutation(); // imported from entities

  const handleWritePostSubmit = async () => {
    await mutateAsync(...props);
  };

  // featuresì—ì„œëŠ” interfaceë¥¼ ì •ì˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ê´€ë ¨ëœ interfaceëŠ” ë°˜ë“œì‹œ entitiesë‚˜ shadedì—ì„œ ì •ì˜í•˜ì—¬ ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤
  return (
    // imported from shared
    <ResponsiveSupportedButton tableSize="medium" desktopSize="large">
      ì œì¶œ
    </ResponsiveSupportedButton>
  );
};

/* "src/features/post/update-post/ui/submit-button "*/
const UpdatePostSubmitButton = () => {};
```

<br/>
<br/>

`entities`

> ì—”í„°í‹°ë€ í•„ìš”í•œ ì •ë³´ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ì§‘í•©ì…ë‹ˆë‹¤. ë°ì´í„° ì •ë³´ì˜ ì €ì¥ì„ ìœ„í•´ ì„œë²„ì—ì„œ ë³´ë‚´ì£¼ëŠ” ë°ì´í„°ì™€ ë§µí•‘ì´ ë˜ëŠ” í•µì‹¬ í´ë ˆìŠ¤ì´ê¸°ë„ í•©ë‹ˆë‹¤.

> ë”°ë¼ì„œ ì´ê³³ì—ì„œëŠ” apië¥¼ í†µí•´ ì‹¤ì œë¡œ ì•±ìƒì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•œ ë°ì´í„°ë¡œ íŒŒì‹±í•˜ëŠ” ë§µí•‘ í•¨ìˆ˜ì™€ ì»´í¬ë„ŒíŠ¸ê°€ ì •ì˜ë˜ëŠ” ë ˆì´ì–´ì…ë‹ˆë‹¤.

```javascript
// fetchPostëŠ” ìì²´ë§Œìœ¼ë¡œ 'Post'ë¼ëŠ” entityë¥¼ ë§µí•‘í•˜ëŠ” í´ë˜ìŠ¤ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

// ê·¸ëŸ¬ë‚˜ ìš°ë¦¬ê°€ ì•±ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì‹¤ì œ í•„ìš”í•œ ë°ì´í„°ëŠ” data, isLoading, errorì™€ ê°™ì€ ìœ í‹¸ ê°ì²´ì™€ post entityê°€ í¬í•¨ëœ ê°ì²´ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ì´ë¥¼ ë§µí•‘í•  ìˆ˜ ìˆëŠ” query-hook ë˜í•œ entitiesì— ì •ì˜í•˜ë©°, ì•±ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì‹¤ì œ ê°ì²´ íƒ€ì…ì— ë”°ë¼ ìƒ¤ë”©í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤

/* "src/entities/post/lib/query " */
const useFetchPostList = () => {
  return useQuery();
};

const useFetchPopularList = () => {
  return useQuery();
};

// ë˜í•œ ì„œë²„ì—ì„œ ì‘ë‹µë°›ì€ Postì—ëŠ” ìš°ë¦¬ê°€ í•„ìš”í•œ ë°ì´í„°ê°€ ìˆì„ ìˆ˜ ìˆê³  ìˆì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ë“¤ì–´ Postê°ì²´ì—ì„œëŠ” ì¡°íšŒìˆ˜ê°€ ì¡´ì¬í•˜ì§€ë§Œ `post-list-item`ì—ì„œëŠ” í•„ìš”í•˜ê³  `post-card`ì—ì„œëŠ” í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

// ë”°ë¼ì„œ ì •ë§ ìš°ë¦¬ê°€ í•„ìš”í•œ ê°ì²´ë¥¼ ì§€ì •í•˜ê³  ì‚¬ìš©ê°€ëŠ¥í•œ ui ë˜í•œ entitiesì— ì •ì˜í•˜ê³  ì‚¬ìš©í•©ë‹ˆë‹¤.

/* "src/entities/post/ui " */
const PostListItem = () => {
  return <div> :D </div>;
};

const PostCard = () => {
  return <div> :D </div>;
};
```

> entitiesì˜ ê°€ì¥ í° í•µì‹¬ì€ `ìš°ë¦¬ê°€ í•„ìš”í•œ ë°ì´í„°`ë¥¼ ì €ì¥í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

<br/>
<br/>

`shared`

> sharedëŠ” ìƒë‹¨ì˜ ëª¨ë“  ë ˆì´ì–´ë“¤ì´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ui / config / lib / model ë“± ëª¨ë“  sliceë“¤ì´ ì •ì˜ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¤‘ìš”í•œ ê²ƒì€ `shared`ê°€ ê³µìœ í•˜ëŠ” ê²ƒì´ë¼í•˜ì—¬ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” domain businessë¥¼ ì •ì˜í•˜ì—¬ì„œëŠ” ì•ˆë©ë‹ˆë‹¤. ë¹„ì¦ˆë‹ˆìŠ¤ê°€ ì •ì˜ë˜ëŠ” ìˆœê°„ sharedëŠ” ë³¸ì—°ì˜ ê¸°ëŠ¥ì„ ìƒì‹¤í•˜ê³  í•´ë‹¹ ë„ë©”ì¸ì— ì¢…ì†ë˜ëŠ” ê²°ê³¼ë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
// post-cardëŠ” post-list, post-widgetì— ê³µìœ ë˜ë‹ˆê¹Œ sharedë¡œ ë¶„ë¦¬í•˜ì—¬ì„œ ê´€ë¦¬í•´ì•¼ê² ì–´! âŒ
// sharedê°€ ì•„ë‹Œ postë¼ëŠ” ë„ë©”ì¸ì— ì¢…ì†ë©ë‹ˆë‹¤.

// Good Example
// shared
const Card = () => {};

// entities
const PostCard =({...props}) => {

    // imported from shared
    return <Card {...}>  ğŸ™†ğŸ»â€â™‚ï¸
}

```

## Example Folder Structure

```plaintext
src
â”‚
â”œâ”€ app
â”‚   â””â”€ layout
â”‚      â”œâ”€ config
â”‚      â”‚   â””â”€ metadata.ts
â”‚      â”‚
â”‚      â”œâ”€ gnb.ts
â”‚      â”œâ”€ snb.ts
â”‚      â””â”€ index.ts
â”‚
â”œâ”€ pages
â”‚   â”œâ”€ main.tsx
â”‚   â”œâ”€ post-list
â”‚   â”‚    â”œâ”€ config
â”‚   â”‚    â”‚   â””â”€ metadata.ts
â”‚   â”‚    |
â”‚   â”‚    â””â”€ post-list.tsx
â”‚   â”‚
â”‚   â”œâ”€ post-detail
â”‚   â””â”€ post-write
â”‚
â”œâ”€ widgets
|   â”œâ”€ list
â”‚   â”‚   â”œâ”€ config
â”‚   â”‚   â””â”€ metadata.ts
â”‚   â”‚
â”‚   â””â”€ dialog
â”‚       â”œâ”€ alert-dialog.tsx
â”‚       â”œâ”€ confirm-dialog.tsx
â”‚       â””â”€ post-detail-dialog.tsx
â”‚
â”œâ”€ features
â”‚   â”œâ”€ user
â”‚   â”‚   â”œâ”€ authenticate
â”‚   â”‚   â””â”€ updated-user
â”‚   â”‚
â”‚   â””â”€ post
â”‚       â”œâ”€ update-post
â”‚       â””â”€ write-post
â”‚          â”œâ”€ model
â”‚          â”œâ”€ lib
â”‚          â””â”€ ui
â”‚
â”œâ”€ entities
â”‚   â”œâ”€ user
|   |   â”œâ”€model
â”‚   â”‚   â”œâ”€ lib
â”‚   â”‚   â””â”€ ui
â”‚   â”‚
â”‚   â””â”€ post
|       â”œâ”€model
â”‚       â”œâ”€ lib
â”‚       â””â”€ ui
|
â””â”€ shared
    â”œâ”€â”€ui
    â”œâ”€â”€lib
    â”œâ”€â”€core
    â””â”€ api
```

## Caution

`íŒŒì¼ì´ ë„ˆë¬´ ë§ì•„ì§ˆê¹Œë´ ê±±ì •ë©ë‹ˆë‹¤`

FSDì˜ ê°€ì¥ ì¤‘ìš”í•œ í•µì‹¬ì€ ì—­í• ê³¼ ì±…ì„ì— ë”°ë¼ ë ˆì´ì–´ì™€ ìŠ¤ì½”í”„ë¥¼ êµ¬ë¶„í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë”°ë¼ì„œ íŒŒì¼ì´ ë§ì•„ ì§€ë”ë¼ë„ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” ì˜ì—­ì´ í•œì •ì ì´ê¸° ë•Œë¬¸ì— ì´ë¥¼ ê±±ì •í•´ì„œëŠ” ì•ˆë©ë‹ˆë‹¤.

í•˜ì§€ë§Œ ê·¸ëŸ¼ì—ë„ ìœ„ì™€ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ìš°ë¦¬ëŠ”, fsdê°€ ì•„ë‹Œ ë‹¤ë¥¸ folder structureë¥¼ ê³ ë¯¼í•´ì•¼í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ê°€ ë°”ë¼ê³  ìˆëŠ” ê²ƒì´ ë ˆì´ì–´ì— ê¸°ëŠ¥ì„ í•œì •í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, ë‹¨ìˆœíˆ ë„ë©”ì¸ìœ¼ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ë¼ë©´ ìš°ë¦¬ëŠ” ê¸°ì¡´ì˜ hooks folder structureì— domainsë¼ëŠ” folderë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ í•´ê²°í•  ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
